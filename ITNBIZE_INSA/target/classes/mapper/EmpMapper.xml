<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itnbize.dao.EmpDao">
	<select id="Insa_List" resultType="com.itnbize.dto.EmpDto">
		select * from INSA
			 <trim prefix="WHERE" prefixOverrides="AND |OR">
			<if test="param1 != ''">
				and INSANO like '%'||#{param1}||'%'
			</if>
			<if test="param2 != ''">
				and insa_name like '%'||#{param2}||'%'
			</if>
			<if test="param3 != 0">
				and insa_join_gbn = #{param3}
			</if>
			<if test="param4 != 0">
				and insa_put = #{param4}
			</if>
			<if test="param5 != 0">
				and insa_pos_gbn = #{param5}
			</if>
			<if test="param6 != ''">
				and insa_start like '%'||#{param6}||'%'
			</if>
			<if test="param7 != ''">
				and insa_end like '%'||#{param7}||'%'
			</if>
			</trim>
	</select>

	<select id="INSA_LIST_SELECT" resultType="com.itnbize.dto.EmpDto">
		SELECT * FROM INSA WHERE INSANO = #{param1}
	</select>
	
	<select id="Insa_Id_Max" resultType="java.lang.Integer">
		SELECT NVL(MAX(INSANO),0) FROM INSA WHERE INSA_JOIN_GBN = #{param1}
	</select>
	
	<insert id="Insa_Insert" >
		INSERT INTO INSA (INSANO,CMPNO,INSA_NAME,INSA_NAME_EN,INSA_ID,
			INSA_PW,INSA_SEX,INSA_PHONE,INSA_HP,INSA_REGNO,INSA_AGE,INSA_EMAIL,
			INSA_POST,INSA_ADRES1,INSA_ADRES2,INSA_POS_GBN,INSA_DEPT,INSA_SALARY,
			INSA_JOIN_GBN,INSA_CLASS,INSA_PUT,INSA_ARMYN,INSA_ARMY_TYPE,INSA_ARMY_LEV,
			INSA_ARMY_START,INSA_ARMY_END,INSA_KOSA,INSA_KOSA_CLASS,INSA_START,
			INSA_END,INSA_CARRIER,INSA_SELF,INSA_DATE,INSA_RESUM,INSA_IMG) 
			values 
			(#{insano}, #{cmpno, jdbcType=VARCHAR},#{insa_name, jdbcType=VARCHAR},#{insa_name_en, jdbcType=VARCHAR},#{insa_id, jdbcType=VARCHAR},
			#{insa_pw, jdbcType=VARCHAR},#{insa_sex, jdbcType=VARCHAR},#{insa_phone, jdbcType=VARCHAR},#{insa_hp, jdbcType=VARCHAR},#{insa_regno, jdbcType=VARCHAR},#{insa_age, jdbcType=VARCHAR},#{insa_email, jdbcType=VARCHAR},
			#{insa_post, jdbcType=VARCHAR},#{insa_adres1, jdbcType=VARCHAR},#{insa_adres2, jdbcType=VARCHAR},#{insa_pos_gbn, jdbcType=VARCHAR},#{insa_dept, jdbcType=VARCHAR},#{insa_salary, jdbcType=VARCHAR},
			#{insa_join_gbn, jdbcType=VARCHAR},#{insa_class, jdbcType=VARCHAR},#{insa_put, jdbcType=VARCHAR},#{insa_armyn, jdbcType=VARCHAR},#{insa_army_type, jdbcType=VARCHAR},#{insa_army_lev, jdbcType=VARCHAR},
			#{insa_army_start, jdbcType=VARCHAR},#{insa_army_end, jdbcType=VARCHAR},#{insa_kosa, jdbcType=VARCHAR},#{insa_kosa_class, jdbcType=VARCHAR},#{insa_start, jdbcType=VARCHAR},
			#{insa_end, jdbcType=VARCHAR},#{insa_carrier, jdbcType=VARCHAR},#{insa_self, jdbcType=VARCHAR},#{insa_date, jdbcType=DATE},#{insa_resum, jdbcType=VARCHAR},#{insa_img, jdbcType=VARCHAR})
	</insert>
	
	
	<update id="Insa_update">
		UPDATE INSA 
		<set>
			<if test="cmpno != null">CMPNO = #{cmpno},</if>
			<if test="insa_name != null">INSA_NAME = #{insa_name},</if>
			<if test="insa_name_en != null">INSA_NAME_EN = #{insa_name_en},</if>
			<if test="insa_id != null">INSA_ID = #{insa_id},</if>
			<if test="insa_pw != null">INSA_PW = #{insa_pw},</if>
			<if test="insa_sex != null">INSA_SEX = #{insa_sex},</if>
			<if test="insa_phone != null">INSA_PHONE = #{insa_phone},</if>
			<if test="insa_hp != null">INSA_HP = #{insa_hp},</if>
			<if test="insa_regno != null">INSA_REGNO = #{insa_regno},</if>
			<if test="insa_age != null">INSA_AGE = #{insa_age},</if>
			<if test="insa_email != null">INSA_EMAIL = #{insa_email},</if>
			<if test="insa_post != null">INSA_POST = #{insa_post},</if>
			<if test="insa_adres1 != null">INSA_ADRES1 = #{insa_adres1},</if>
			<if test="insa_adres2 != null">INSA_ADRES2 = #{insa_adres2},</if>
			<if test="insa_pos_gbn != null">INSA_POS_GBN = #{insa_pos_gbn},</if>
			<if test="insa_dept != null">INSA_DEPT = #{insa_dept},</if>
			<if test="insa_salary != null">INSA_SALARY = #{insa_salary},</if>
			<if test="insa_join_gbn != 0">INSA_JOIN_GBN = #{insa_join_gbn},</if>
			<if test="insa_class != null">INSA_CLASS = #{insa_class},</if>
			<if test="insa_put != 0">INSA_PUT = #{insa_put},</if>
			<if test="insa_armyn != 0">INSA_ARMYN = #{insa_armyn},</if>
			<if test="insa_army_type != 0">INSA_ARMY_TYPE = #{insa_army_type},</if>
			<if test="insa_army_lev != 0">INSA_ARMY_LEV = #{insa_army_lev},</if>
			<if test="insa_army_start != null">INSA_ARMY_START = #{insa_army_start},</if>
			<if test="insa_army_end != null">INSA_ARMY_END = #{insa_army_end},</if>
			<if test="insa_kosa != null">INSA_KOSA = #{insa_kosa},</if>
			<if test="insa_kosa_class != null">INSA_KOSA_CLASS = #{insa_kosa_class},</if>
			<if test="insa_start != null">INSA_START = #{insa_start},</if>
			<if test="insa_end != null">INSA_END = #{insa_end},</if>
			<if test="insa_carrier != null">INSA_CARRIER = #{insa_carrier},</if>
			<if test="insa_self != null">INSA_SELF = #{insa_self},</if>
			<if test="insa_date != null">INSA_DATE = #{insa_date},</if>
			<if test="insa_resum != null">INSA_RESUM = #{insa_resum},</if>
			<if test="insa_img != null">INSA_IMG = #{insa_img}</if>
		</set>
		WHERE INSANO = #{insano}
	</update>
 
</mapper>

